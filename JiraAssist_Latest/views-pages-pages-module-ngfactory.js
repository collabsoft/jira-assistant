(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{pHem:function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),t=function(){},r=u("pMnS"),o=u("P6H5"),a=u("sdDj"),i=u("kbps"),s=u("4Vzq"),d=u("gIcY"),c=u("+1E+"),g=u("YvwL"),p=u("6SrW"),f=u("Y2gt"),h=u("GGEu"),m=u("Gof4"),v=u("Urcf"),b=function(){function l(l,n,u,e,t,r){var o=this;this.$ajax=l,this.$db=n,this.message=u,this.$jaCache=e,this.$jaBrowserExtn=t,this.$session=r,this.browser=navigator.userAgent,t.getAppVersion().then(function(l){return o.version=l})}return l.prototype.ngOnInit=function(){var l=this;this.$jaBrowserExtn.getCurrentUrl().then(function(n){var u=l.getJiraRootUrl(n);u&&u.length>20&&u.startsWith("http")&&(l.jiraUrl=u)})},l.prototype.getJiraRootUrl=function(l){return l.replace(/^(.*\/\/[^\/?#]*).*$/,"$1")},l.prototype.integrate=function(){var l=this,n=this.jiraUrl.trim().trimEnd("/").trimEnd("\\");this.jiraUrl=n,this.$session.rootUrl=n,this.loading=!0,this.$ajax.get(g.a.mySelf).then(function(u){var e=u.name,t=u.emailAddress;l.$db.users.where("userId").equalsIgnoreCase(e).and(function(l){return l.jiraUrl.toLowerCase()===n.toLowerCase()}).first().then(function(u){u?(u.jiraUrl=n,u.userId=e,u.email=t,u.lastLogin=new Date,l.$db.users.put(u).then(function(l){return u.id},function(n){return l.handleDBError(n)}).then(function(n){return l.openDashboard(n)})):(u={jiraUrl:n,userId:e,email:t,lastLogin:new Date,dateFormat:"dd-MMM-yyyy",timeFormat:" hh:mm:ss tt",maxHours:8,dateCreated:new Date},l.$db.users.add(u).then(function(l){return l},function(n){return l.handleDBError(n)}).then(function(n){return l.openDashboard(n)}))})},function(n){401===(n=n||{}).status?l.message.warning("You are not authenticated with Jira to integrate.","Unauthorized"):l.message.error("This is not a valid Jira server url or the server does not respond.","Unknown server")}).then(function(){l.loading=!1})},l.prototype.handleDBError=function(l){return this.message.error("Unable to save the changes. Verify if you have sufficient free space in your C:","Allocation failed"),-1},l.prototype.openDashboard=function(l){l<=0||(this.$jaCache.set("CurrentJiraUrl",this.jiraUrl),this.$jaCache.set("CurrentUserId",l),this.$jaBrowserExtn.openTab("/index.html"),window.close())},l}(),C=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function _(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"p-growl",[["baseZIndex","99999"]],null,null,null,o.b,o.a)),e["\u0275prd"](512,null,a.DomHandler,a.DomHandler,[]),e["\u0275did"](2,4636672,null,0,i.Growl,[e.ElementRef,a.DomHandler,e.IterableDiffers,[2,s.MessageService],e.NgZone],{baseZIndex:[0,"baseZIndex"]},null),(l()(),e["\u0275eld"](3,0,null,null,42,"div",[["class","app flex-row align-items-center"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,41,"div",[["class","container"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,40,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,39,"div",[["class","col-md-6 no-padding no-margin"],["style","max-width:480px;min-width:460px;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,38,"div",[["class","card mx-4 no-padding no-margin"]],null,null,null,null,null)),(l()(),e["\u0275eld"](8,0,null,null,22,"div",[["class","card-body p-4"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Jira Assistant"])),(l()(),e["\u0275eld"](11,0,null,null,3,"p",[["class","text-muted"]],null,null,null,null,null)),(l()(),e["\u0275eld"](12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Integrate"])),(l()(),e["\u0275ted"](-1,null,[" with your Jira account"])),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(l()(),e["\u0275eld"](18,0,null,null,0,"i",[["class","fa fa-external-link"]],null,null,null,null,null)),(l()(),e["\u0275eld"](19,0,null,null,5,"input",[["class","form-control"],["placeholder","Jira url (eg: http://jira.example.com)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,r=l.component;return"input"===n&&(t=!1!==e["\u0275nov"](l,20)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e["\u0275nov"](l,20).onTouched()&&t),"compositionstart"===n&&(t=!1!==e["\u0275nov"](l,20)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e["\u0275nov"](l,20)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(r.jiraUrl=u)&&t),t},null,null)),e["\u0275did"](20,16384,null,0,d.DefaultValueAccessor,[e.Renderer2,e.ElementRef,[2,d.COMPOSITION_BUFFER_MODE]],null,null),e["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,function(l){return[l]},[d.DefaultValueAccessor]),e["\u0275did"](22,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),e["\u0275did"](24,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(l()(),e["\u0275eld"](25,0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Login to your Jira in current tab or provide the Url of your Jira server to integrate. Ensure you have already been authenticated in Jira before you click on Integrate button. "])),(l()(),e["\u0275eld"](27,0,null,null,3,"button",[["class","btn btn-block btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.integrate()&&e),e},null,null)),(l()(),e["\u0275eld"](28,0,null,null,0,"i",[["class","fa fa-unlock-alt"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e["\u0275eld"](29,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Integrate "])),(l()(),e["\u0275eld"](31,0,null,null,14,"div",[["class","card-footer p-4"]],null,null,null,null,null)),(l()(),e["\u0275eld"](32,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](33,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](34,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\xa9 2018 Jira Assistant"])),(l()(),e["\u0275eld"](36,0,null,null,9,"div",[["class","col-6"],["style","text-align:right;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](37,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),e["\u0275eld"](38,0,null,null,0,"i",[["class","fa fa-youtube"]],null,null,null,null,null)),(l()(),e["\u0275eld"](39,0,null,null,1,"a",[["href","https://www.youtube.com/embed/f2aBSXzbYuA?rel=0&autoplay=1&showinfo=0&cc_load_policy=1&start=34"],["target","_blank"],["title","Click to open youtube video guiding you to setup Jira Assistant"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Help setup"])),(l()(),e["\u0275ted"](-1,null,[" | "])),(l()(),e["\u0275eld"](42,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),e["\u0275eld"](43,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(l()(),e["\u0275eld"](44,0,null,null,1,"a",[["target","_blank"],["title","Click to report about any issues or ask a question"]],[[8,"href",4]],null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Contact us"]))],function(l,n){var u=n.component;l(n,2,0,"99999"),l(n,22,0,u.jiraUrl)},function(l,n){var u=n.component;l(n,19,0,e["\u0275nov"](n,24).ngClassUntouched,e["\u0275nov"](n,24).ngClassTouched,e["\u0275nov"](n,24).ngClassPristine,e["\u0275nov"](n,24).ngClassDirty,e["\u0275nov"](n,24).ngClassValid,e["\u0275nov"](n,24).ngClassInvalid,e["\u0275nov"](n,24).ngClassPending),l(n,27,0,!u.jiraUrl||u.loading),l(n,28,0,u.loading),l(n,29,0,!u.loading),l(n,44,0,e["\u0275inlineInterpolate"](2,"https://docs.google.com/forms/d/e/1FAIpQLScJvQtHZI_yZr1xd4Z8TwWgvtFss33hW5nJp4gePCgI2ScNvg/viewform?entry.1426640786=",u.version,"&entry.972533768=",u.browser,""))})}var y=e["\u0275ccf"]("ja-integrate",b,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"ja-integrate",[],null,null,null,_,C)),e["\u0275did"](1,114688,null,0,b,[c.a,p.a,f.a,h.a,m.a,v.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),w=u("EVdn"),x=function(){function l(l){this.jiraUrl=l.rootUrl}return l.prototype.ngOnInit=function(){w("body").css("background-color","#667380")},l}(),M=e["\u0275crt"]({encapsulation:0,styles:[[".error-card.global[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translateY(-50%) translateX(-50%);transform:translateY(-50%) translateX(-50%);margin:0}.error-card[_ngcontent-%COMP%]{width:410px;min-height:330px;margin:60px auto}.error-card.global[_ngcontent-%COMP%]   .error-title[_ngcontent-%COMP%]{color:#fff}.error-card[_ngcontent-%COMP%]   .error-title[_ngcontent-%COMP%]{font-size:150px;line-height:150px;font-weight:700;color:#252932;text-align:center;text-shadow:rgba(61,61,61,.3) .5px .5px,rgba(61,61,61,.2) 1px 1px,rgba(61,61,61,.3) 1.5px 1.5px}.error-card.global[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%], .error-card.global[_ngcontent-%COMP%]   .error-sub-title[_ngcontent-%COMP%]{color:#fff}.error-card[_ngcontent-%COMP%]   .error-sub-title[_ngcontent-%COMP%]{font-weight:100;text-align:center}h2[_ngcontent-%COMP%]{font-size:2rem}"]],data:{}});function U(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,14,"div",[["class","error-card global"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,4,"div",[["class","error-title-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,1,"h1",[["class","error-title"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["401"])),(l()(),e["\u0275eld"](4,0,null,null,1,"h2",[["class","error-sub-title"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Unauthenticated! "])),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","error-container visible"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["You are not authenticated in Jira. Before you start using Jira Assistant, please login to your Jira server. Once logged in you can go back to dashboard."])),(l()(),e["\u0275eld"](9,0,null,null,2,"a",[["class","btn btn-primary"],["href","index.html"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,0,"i",[["class","fa fa-angle-left"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Back to Dashboard "])),(l()(),e["\u0275eld"](12,0,null,null,2,"a",[["class","btn btn-success pull-right"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-external-link"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Open Jira url "]))],null,function(l,n){l(n,12,0,e["\u0275inlineInterpolate"](1,"",n.component.jiraUrl,""))})}var k=e["\u0275ccf"]("ja-p401",x,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"ja-p401",[],null,null,null,U,M)),e["\u0275did"](1,114688,null,0,x,[v.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),j=u("Ip0R"),I=u("ZYCi"),O={title:"Common pages"},E={title:"Integrate with Jira"},J={title:"Authenticate in Jira"},D=function(){};u.d(n,"PagesModuleNgFactory",function(){return P});var P=e["\u0275cmf"](t,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,y,k]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,d["\u0275angular_packages_forms_forms_i"],d["\u0275angular_packages_forms_forms_i"],[]),e["\u0275mpd"](4608,j.NgLocalization,j.NgLocaleLocalization,[e.LOCALE_ID,[2,j["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](1073742336,I.RouterModule,I.RouterModule,[[2,I["\u0275angular_packages_router_router_a"]],[2,I.Router]]),e["\u0275mpd"](1073742336,D,D,[]),e["\u0275mpd"](1073742336,d["\u0275angular_packages_forms_forms_bb"],d["\u0275angular_packages_forms_forms_bb"],[]),e["\u0275mpd"](1073742336,d.FormsModule,d.FormsModule,[]),e["\u0275mpd"](1073742336,j.CommonModule,j.CommonModule,[]),e["\u0275mpd"](1073742336,i.GrowlModule,i.GrowlModule,[]),e["\u0275mpd"](1073742336,t,t,[]),e["\u0275mpd"](1024,I.ROUTES,function(){return[[{path:"",data:O,children:[{path:"integrate",component:b,data:E},{path:"p401",component:x,data:J}]}]]},[])])})}}]);